MPT Data Plotter: A Java library to plot Messaging Performance Test Tool Files
============


Introduction
----

This library reads compressed CSV files generated by the [Messaging Performance Test Tool](https://github.com/orpiske/msg-perf-tool/) and plot them. It makes it
easier to integrate processing of those files into custom automation tools without relying on Excel, GNUPlot or
GoogleCharts.
It can be used as a command-line tool or it can be integrated in other projects as a library.


Building
----

```
mvn clean install
```



Using as Command Line Tool
----

Run:

```
./mpt-data-plotter -f /path/to/file.csv.gz
```

Using as Library
----

Use:

```
RateDataProcessor rateDataProcessor = new RateDataProcessor();
RateReader rateReader = new RateReader(rateDataProcessor);

rateReader.read(fileName);

RateData rateData = rateDataProcessor.getRateData();


// Removes the gz
String baseName = FilenameUtils.removeExtension(fileName);
// Removes the csv
baseName = FilenameUtils.removeExtension(baseName);

// Plotter
RatePlotter plotter = new RatePlotter(baseName);
plotter.plot(rateData.getRatePeriods(), rateData.getRateValues());
```

Output
----

The MDP processing will generate 1 file per report: 

```
/path/to/receiverd-rate-0_rate.png
```

Deploying in Self-Maintained Maven Repository
----

If you maintain your own Maven repository, you can deploy this library using:

```
mvn deploy -DaltDeploymentRepository=libs-snapshot::default::http://hostname:8081/path/to/libs-snapshot-local
```